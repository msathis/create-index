{"version":3,"sources":["../../src/utilities/writeIndex.js"],"names":["directoryPaths","options","sortedDirectoryPaths","filter","directoryPath","silent","ignoreUnsafe","forEach","siblings","indexCode","indexFilePath","resolve","writeFileSync"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;kBAEe,UAACA,cAAD,EAAkC;AAAA,MAAjBC,OAAiB,uEAAP,EAAO;;AAC/C,QAAMC,uBAAuB,2BAAYF,cAAZ,EAC1BG,MAD0B,CAClBC,aAAD,IAAmB;AACzB,WAAO,uCAAwBA,aAAxB,EAAuC,EAACC,QAAQJ,QAAQK,YAAjB,EAAvC,CAAP;AACD,GAH0B,CAA7B;;AAKA,mBAAEC,OAAF,CAAUL,oBAAV,EAAiCE,aAAD,IAAmB;AACjD,UAAMI,WAAW,6BAAcJ,aAAd,CAAjB;AACA,UAAMK,YAAY,+BAAgBD,QAAhB,CAAlB;AACA,UAAME,gBAAgB,eAAKC,OAAL,CAAaP,aAAb,EAA4B,UAA5B,CAAtB;;AAEA,iBAAGQ,aAAH,CAAiBF,aAAjB,EAAgCD,SAAhC;AACD,GAND;AAOD,C","file":"writeIndex.js","sourcesContent":["import fs from 'fs';\nimport path from 'path';\nimport _ from 'lodash';\nimport createIndexCode from './createIndexCode';\nimport validateTargetDirectory from './validateTargetDirectory';\nimport readDirectory from './readDirectory';\nimport sortByDepth from './sortByDepth';\n\nexport default (directoryPaths, options = {}) => {\n  const sortedDirectoryPaths = sortByDepth(directoryPaths)\n    .filter((directoryPath) => {\n      return validateTargetDirectory(directoryPath, {silent: options.ignoreUnsafe});\n    });\n\n  _.forEach(sortedDirectoryPaths, (directoryPath) => {\n    const siblings = readDirectory(directoryPath);\n    const indexCode = createIndexCode(siblings);\n    const indexFilePath = path.resolve(directoryPath, 'index.js');\n\n    fs.writeFileSync(indexFilePath, indexCode);\n  });\n};\n"]}